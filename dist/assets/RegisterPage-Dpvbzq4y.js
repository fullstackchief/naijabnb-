import{u as k,j as e,C as y,D as T,E as F,p as f}from"./index-C6O6iJ3v.js";import{r as n,f as S,L as o}from"./vendor-B6_LhGMM.js";import{m as r}from"./ui-CIEQ41Cv.js";function E(){const[c,u]=n.useState(1),[s,x]=n.useState({fullName:"",email:"",phone:"",password:"",confirmPassword:"",agreeTerms:!1,userType:"guest"}),[m,p]=n.useState(!1),[d,a]=n.useState(""),b=S(),{signUp:N}=k(),t=l=>{const{name:i,value:w,type:C,checked:P}=l.target;x({...s,[i]:C==="checkbox"?P:w})},h=l=>{x({...s,userType:l})},j=()=>{if(c===1){if(!s.fullName||!s.email){a("Please fill in all required fields");return}a(""),u(2)}},v=()=>{u(1),a("")},g=async l=>{if(l.preventDefault(),a(""),!s.password){a("Please enter a password");return}if(s.password!==s.confirmPassword){a("Passwords do not match");return}if(!s.agreeTerms){a("You must agree to the Terms and Privacy Policy");return}p(!0);try{await N({email:s.email,password:s.password,fullName:s.fullName,phone:s.phone,userType:s.userType}),b("/login",{state:{message:"Registration successful! Please log in to continue."}})}catch(i){i.message.includes("user_already_exists")||i.message.includes("User already registered")?a("An account with this email already exists. Please log in instead."):a(i.message||"Failed to create account")}finally{p(!1)}};return e.jsx(r.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"min-h-screen flex items-center justify-center py-16 px-4 sm:px-6 lg:px-8 bg-neutral-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-8",children:[e.jsxs(r.div,{initial:{y:-20},animate:{y:0},transition:{duration:.4,delay:.1},className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-neutral-900 mb-2",children:"Create Your Account"}),e.jsx("p",{className:"text-neutral-600",children:"Join NijaBnB to discover amazing stays across Nigeria"})]}),d&&e.jsxs(r.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-3 bg-error/10 border border-error/20 rounded-lg text-error text-sm",children:[d,d.includes("already exists")&&e.jsx("div",{className:"mt-2",children:e.jsx(o,{to:"/login",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Click here to log in"})})]}),c===1&&e.jsxs(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"I want to:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",className:`p-4 border rounded-lg flex flex-col items-center justify-center transition-colors ${s.userType==="guest"?"border-primary-500 bg-primary-50 text-primary-700":"border-neutral-300 hover:border-neutral-400"}`,onClick:()=>h("guest"),children:[e.jsx(y,{size:24,className:"mb-2"}),e.jsx("span",{className:"font-medium",children:"Find a place to stay"})]}),e.jsxs("button",{type:"button",className:`p-4 border rounded-lg flex flex-col items-center justify-center transition-colors ${s.userType==="host"?"border-primary-500 bg-primary-50 text-primary-700":"border-neutral-300 hover:border-neutral-400"}`,onClick:()=>h("host"),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 mb-2",children:[e.jsx("path",{d:"M11.47 3.84a.75.75 0 011.06 0l8.69 8.69a.75.75 0 101.06-1.06l-8.689-8.69a2.25 2.25 0 00-3.182 0l-8.69 8.69a.75.75 0 001.061 1.06l8.69-8.69z"}),e.jsx("path",{d:"M12 5.432l8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 01-.75-.75v-4.5a.75.75 0 00-.75-.75h-3a.75.75 0 00-.75.75V21a.75.75 0 01-.75.75H5.625a1.875 1.875 0 01-1.875-1.875v-6.198a2.29 2.29 0 00.091-.086L12 5.43z"})]}),e.jsx("span",{className:"font-medium",children:"Become a host"})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",htmlFor:"fullName",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(y,{className:"text-neutral-400"})}),e.jsx("input",{id:"fullName",name:"fullName",type:"text",value:s.fullName,onChange:t,className:"input pl-10",placeholder:"Your full name",required:!0})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(T,{className:"text-neutral-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",value:s.email,onChange:t,className:"input pl-10",placeholder:"your.email@example.com",required:!0})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",htmlFor:"phone",children:"Phone Number (optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(F,{className:"text-neutral-400"})}),e.jsx("input",{id:"phone",name:"phone",type:"tel",value:s.phone,onChange:t,className:"input pl-10",placeholder:"+234 800 000 0000"})]})]}),e.jsx("button",{type:"button",onClick:j,className:"btn btn-primary w-full",children:"Continue"})]}),c===2&&e.jsxs(r.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},onSubmit:g,children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(f,{className:"text-neutral-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",value:s.password,onChange:t,className:"input pl-10",placeholder:"Create a strong password",required:!0})]}),e.jsx("p",{className:"mt-1 text-xs text-neutral-500",children:"Password must be at least 6 characters long"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(f,{className:"text-neutral-400"})}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:s.confirmPassword,onChange:t,className:"input pl-10",placeholder:"Confirm your password",required:!0})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex items-center h-5",children:e.jsx("input",{id:"agreeTerms",name:"agreeTerms",type:"checkbox",checked:s.agreeTerms,onChange:t,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded",required:!0})}),e.jsx("div",{className:"ml-3 text-sm",children:e.jsxs("label",{htmlFor:"agreeTerms",className:"text-neutral-700",children:["I agree to the"," ",e.jsx(o,{to:"/terms",className:"text-primary-600 hover:text-primary-700",children:"Terms of Service"})," ","and"," ",e.jsx(o,{to:"/privacy",className:"text-primary-600 hover:text-primary-700",children:"Privacy Policy"})]})})]})}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx("button",{type:"submit",className:`btn btn-primary ${m?"opacity-70 cursor-not-allowed":""}`,disabled:m,children:m?"Creating account...":"Create Account"}),e.jsx("button",{type:"button",onClick:v,className:"btn btn-outline",children:"Back"})]})]}),e.jsxs(r.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.5},className:"mt-8 text-center text-sm text-neutral-600",children:["Already have an account?"," ",e.jsx(o,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-700",children:"Log in"})]})]})})}export{E as default};
//# sourceMappingURL=RegisterPage-Dpvbzq4y.js.map
