{"version":3,"file":"LoginPage-BzIbBkN4.js","sources":["../../src/pages/LoginPage.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { Link, useNavigate, useLocation } from 'react-router-dom'\nimport { motion } from 'framer-motion'\nimport { FaEnvelope, FaLock } from 'react-icons/fa'\nimport { useAuth } from '../contexts/AuthContext'\n\nfunction LoginPage() {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [rememberMe, setRememberMe] = useState(false)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState('')\n  const [success, setSuccess] = useState('')\n  \n  const { signIn } = useAuth()\n  const navigate = useNavigate()\n  const location = useLocation()\n\n  // Check for success message from registration\n  React.useEffect(() => {\n    if (location.state?.message) {\n      setSuccess(location.state.message)\n      // Clear the message from location state\n      window.history.replaceState({}, document.title)\n    }\n  }, [location])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    setError('')\n    setSuccess('')\n    setIsLoading(true)\n\n    try {\n      if (!email || !password) {\n        throw new Error('Please fill in all fields')\n      }\n      \n      const { error } = await signIn({ email, password })\n      \n      if (error) {\n        if (error.message.includes('invalid_credentials')) {\n          throw new Error('Invalid email or password. Please check your credentials and try again.')\n        }\n        throw error\n      }\n\n      // Get the redirect path from location state or default to dashboard\n      const from = location.state?.from?.pathname || '/dashboard'\n      navigate(from, { replace: true })\n      \n    } catch (err) {\n      setError(err.message || 'Failed to sign in')\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex\">\n      {/* Left Side - Form */}\n      <motion.div\n        initial={{ opacity: 0, x: -20 }}\n        animate={{ opacity: 1, x: 0 }}\n        exit={{ opacity: 0 }}\n        transition={{ duration: 0.4 }}\n        className=\"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white\"\n      >\n        <div className=\"max-w-md w-full\">\n          <div className=\"text-center mb-8\">\n            <h1 className=\"text-3xl font-display font-bold text-neutral-900 mb-3\">\n              Welcome Back\n            </h1>\n            <p className=\"text-neutral-600\">\n              Log in to access your NijaBnB account\n            </p>\n          </div>\n          \n          {success && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"mb-6 p-4 bg-success/10 border border-success/20 rounded-xl text-success text-sm\"\n            >\n              {success}\n            </motion.div>\n          )}\n\n          {error && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              className=\"mb-6 p-4 bg-error/10 border border-error/20 rounded-xl text-error text-sm\"\n            >\n              {error}\n              {error.includes('Invalid email or password') && (\n                <div className=\"mt-2\">\n                  <Link to=\"/forgot-password\" className=\"text-primary-600 hover:text-primary-700 font-medium\">\n                    Forgot your password?\n                  </Link>\n                </div>\n              )}\n            </motion.div>\n          )}\n          \n          <form onSubmit={handleSubmit} className=\"space-y-6\">\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-1.5\" htmlFor=\"email\">\n                Email Address\n              </label>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\n                  <FaEnvelope className=\"text-neutral-400\" />\n                </div>\n                <input\n                  id=\"email\"\n                  type=\"email\"\n                  value={email}\n                  onChange={(e) => setEmail(e.target.value)}\n                  className=\"input pl-11 w-full rounded-xl\"\n                  placeholder=\"your.email@example.com\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div>\n              <div className=\"flex justify-between items-center mb-1.5\">\n                <label className=\"block text-sm font-medium text-neutral-700\" htmlFor=\"password\">\n                  Password\n                </label>\n                <Link to=\"/forgot-password\" className=\"text-sm text-primary-600 hover:text-primary-700\">\n                  Forgot password?\n                </Link>\n              </div>\n              <div className=\"relative\">\n                <div className=\"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none\">\n                  <FaLock className=\"text-neutral-400\" />\n                </div>\n                <input\n                  id=\"password\"\n                  type=\"password\"\n                  value={password}\n                  onChange={(e) => setPassword(e.target.value)}\n                  className=\"input pl-11 w-full rounded-xl\"\n                  placeholder=\"••••••••\"\n                  required\n                />\n              </div>\n            </div>\n\n            <div className=\"flex items-center\">\n              <input\n                id=\"remember-me\"\n                type=\"checkbox\"\n                checked={rememberMe}\n                onChange={(e) => setRememberMe(e.target.checked)}\n                className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded\"\n              />\n              <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-neutral-700\">\n                Remember me\n              </label>\n            </div>\n            \n            <button\n              type=\"submit\"\n              className={`btn btn-primary w-full py-3 rounded-xl text-base ${\n                isLoading ? 'opacity-70 cursor-not-allowed' : ''\n              }`}\n              disabled={isLoading}\n            >\n              {isLoading ? 'Logging in...' : 'Log in'}\n            </button>\n          </form>\n          \n          <p className=\"mt-8 text-center text-sm text-neutral-600\">\n            Don't have an account?{' '}\n            <Link to=\"/register\" className=\"font-medium text-primary-600 hover:text-primary-700\">\n              Sign up\n            </Link>\n          </p>\n        </div>\n      </motion.div>\n\n      {/* Right Side - Image */}\n      <motion.div\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        transition={{ duration: 0.4, delay: 0.2 }}\n        className=\"hidden lg:block lg:w-1/2 relative\"\n      >\n        <div className=\"absolute inset-0 bg-gradient-to-r from-black/50 to-black/25\"></div>\n        <img \n          src=\"https://images.pexels.com/photos/2462015/pexels-photo-2462015.jpeg?auto=compress&cs=tinysrgb&w=1920\"\n          alt=\"Login background\"\n          className=\"w-full h-full object-cover\"\n        />\n        <div className=\"absolute inset-0 flex items-center justify-center p-12\">\n          <div className=\"max-w-lg text-white text-center\">\n            <h2 className=\"text-4xl font-display font-bold mb-4\">\n              Find Your Perfect Stay in Nigeria\n            </h2>\n            <p className=\"text-lg text-white/90\">\n              Discover unique accommodations and experiences across Nigeria's most beautiful destinations\n            </p>\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  )\n}\n\nexport default LoginPage"],"names":["LoginPage","email","setEmail","useState","password","setPassword","rememberMe","setRememberMe","isLoading","setIsLoading","error","setError","success","setSuccess","signIn","useAuth","navigate","useNavigate","location","useLocation","React","_a","handleSubmit","e","from","_b","err","jsxs","jsx","motion","Link","FaEnvelope","FaLock"],"mappings":"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"}