import{u as S,j as e,D as L,p as E}from"./index-C6O6iJ3v.js";import{r as t,f as F,u as P,R,L as m}from"./vendor-B6_LhGMM.js";import{m as i}from"./ui-CIEQ41Cv.js";function B(){const[l,b]=t.useState(""),[n,g]=t.useState(""),[y,j]=t.useState(!1),[o,d]=t.useState(!1),[c,x]=t.useState(""),[u,p]=t.useState(""),{signIn:v}=S(),N=F(),r=P();R.useEffect(()=>{var s;(s=r.state)!=null&&s.message&&(p(r.state.message),window.history.replaceState({},document.title))},[r]);const w=async s=>{var h,f;s.preventDefault(),x(""),p(""),d(!0);try{if(!l||!n)throw new Error("Please fill in all fields");const{error:a}=await v({email:l,password:n});if(a)throw a.message.includes("invalid_credentials")?new Error("Invalid email or password. Please check your credentials and try again."):a;const k=((f=(h=r.state)==null?void 0:h.from)==null?void 0:f.pathname)||"/dashboard";N(k,{replace:!0})}catch(a){x(a.message||"Failed to sign in")}finally{d(!1)}};return e.jsxs("div",{className:"min-h-screen flex",children:[e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0},transition:{duration:.4},className:"w-full lg:w-1/2 flex items-center justify-center p-8 bg-white",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-neutral-900 mb-3",children:"Welcome Back"}),e.jsx("p",{className:"text-neutral-600",children:"Log in to access your NijaBnB account"})]}),u&&e.jsx(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-success/10 border border-success/20 rounded-xl text-success text-sm",children:u}),c&&e.jsxs(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-error/10 border border-error/20 rounded-xl text-error text-sm",children:[c,c.includes("Invalid email or password")&&e.jsx("div",{className:"mt-2",children:e.jsx(m,{to:"/forgot-password",className:"text-primary-600 hover:text-primary-700 font-medium",children:"Forgot your password?"})})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1.5",htmlFor:"email",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(L,{className:"text-neutral-400"})}),e.jsx("input",{id:"email",type:"email",value:l,onChange:s=>b(s.target.value),className:"input pl-11 w-full rounded-xl",placeholder:"your.email@example.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700",htmlFor:"password",children:"Password"}),e.jsx(m,{to:"/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(E,{className:"text-neutral-400"})}),e.jsx("input",{id:"password",type:"password",value:n,onChange:s=>g(s.target.value),className:"input pl-11 w-full rounded-xl",placeholder:"••••••••",required:!0})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",type:"checkbox",checked:y,onChange:s=>j(s.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-neutral-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-neutral-700",children:"Remember me"})]}),e.jsx("button",{type:"submit",className:`btn btn-primary w-full py-3 rounded-xl text-base ${o?"opacity-70 cursor-not-allowed":""}`,disabled:o,children:o?"Logging in...":"Log in"})]}),e.jsxs("p",{className:"mt-8 text-center text-sm text-neutral-600",children:["Don't have an account?"," ",e.jsx(m,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-700",children:"Sign up"})]})]})}),e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,delay:.2},className:"hidden lg:block lg:w-1/2 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/50 to-black/25"}),e.jsx("img",{src:"https://images.pexels.com/photos/2462015/pexels-photo-2462015.jpeg?auto=compress&cs=tinysrgb&w=1920",alt:"Login background",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-12",children:e.jsxs("div",{className:"max-w-lg text-white text-center",children:[e.jsx("h2",{className:"text-4xl font-display font-bold mb-4",children:"Find Your Perfect Stay in Nigeria"}),e.jsx("p",{className:"text-lg text-white/90",children:"Discover unique accommodations and experiences across Nigeria's most beautiful destinations"})]})})]})]})}export{B as default};
//# sourceMappingURL=LoginPage-BzIbBkN4.js.map
