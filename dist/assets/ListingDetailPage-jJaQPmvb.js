import{j as e,s as w,u as Y,p as K,q as Q,r as X,t as Z,v as ee,w as se,e as R,F as te,d as ae,x as re,i as ne,y as le,z as ie,k as ce,A as oe,l as de,B as me,a as $,C as ue}from"./index-C6O6iJ3v.js";import{r as c,R as B,i as xe,L as he}from"./vendor-B6_LhGMM.js";import{D as q}from"./react-datepicker-3L5Sea4B.js";import{m as pe,S as fe}from"./ui-CIEQ41Cv.js";import{f as A}from"./utils-CXVDwoPv.js";var M=[];function je(){var s="https://js.paystack.co/v1/inline.js",t=c.useState({loaded:!1,error:!1}),n=t[0],a=t[1];return c.useEffect(function(){if(M.includes(s))a({loaded:!0,error:!1});else{M.push(s);var r=document.createElement("script");r.src=s,r.async=!0;var i=function(){a({loaded:!0,error:!1})},u=function(){var x=M.indexOf(s);x>=0&&M.splice(x,1),r.remove(),a({loaded:!0,error:!0})};return r.addEventListener("load",i),r.addEventListener("complete",i),r.addEventListener("error",u),document.body.appendChild(r),function(){r.removeEventListener("load",i),r.removeEventListener("error",u)}}},[s]),[n.loaded,n.error]}var be=function(s){var t=window.PaystackPop&&window.PaystackPop.setup(s);t&&t.openIframe()};function U(s){var t=je(),n=t[0],a=t[1],r=s.publicKey,i=s.firstname,u=s.lastname,x=s.phone,h=s.email,f=s.amount,j=s.reference,o=s.metadata,g=o===void 0?{}:o,d=s.currency,z=d===void 0?"NGN":d,b=s.channels,S=s.label,p=S===void 0?"":S,y=s.plan,P=y===void 0?"":y,C=s.quantity,k=C===void 0?"":C,_=s.subaccount,N=_===void 0?"":_,F=s.transaction_charge,L=F===void 0?0:F,T=s.bearer,O=T===void 0?"account":T,v=s.split,D=s.split_code;function I(E,l){if(a)throw new Error("Unable to load paystack inline script");if(n){var m={callback:E||function(){return null},onClose:l||function(){return null},key:r,ref:j,email:h,firstname:i,lastname:u,phone:x,amount:f,currency:z,plan:P,quantity:k,"data-custom-button":s["data-custom-button"]||"",channels:b,subaccount:N,transaction_charge:L,bearer:O,label:p,metadata:g,split:v,split_code:D};be(m)}}return c.useEffect(function(){if(a)throw new Error("Unable to load paystack inline script")},[a]),I}var G=function(){return G=Object.assign||function(t){for(var n,a=1,r=arguments.length;a<r;a++){n=arguments[a];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},G.apply(this,arguments)};function V(s,t){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(s);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(s,a[r])&&(n[a[r]]=s[a[r]]);return n}var W=c.createContext({initializePayment:function(){return null},onSuccess:function(){return null},onClose:function(){return null}}),ve=function(s){var t=s.children,n=s.onSuccess,a=s.onClose,r=V(s,["children","onSuccess","onClose"]),i=U(r);return B.createElement(W.Provider,{value:{initializePayment:i,onSuccess:n,onClose:a}},t)},ge=function(s){var t=s.children,n=s.ref,a=c.useContext(W),r=a.initializePayment,i=a.onSuccess,u=a.onClose,x=function(){return r(i,u)};return t({initializePayment:x,ref:n})};c.forwardRef(function(s,t){var n=s.children,a=s.onSuccess,r=s.onClose,i=V(s,["children","onSuccess","onClose"]),u=a||function(){return null},x=r||function(){return null};return B.createElement(ve,G({},i,{onSuccess:u,onClose:x}),B.createElement(ge,{ref:t},n))});function ye({amount:s,email:t,metadata:n,onSuccess:a,onClose:r,children:i,className:u="btn btn-primary w-full",disabled:x=!1}){const h={reference:`ref_${Date.now()}`,email:t,amount:s*100,publicKey:"pk_test_1cfb37c7eb7a647842247aaf014d487262b5f5df",metadata:n},f=U(h),j=()=>{f(o=>{a(o)},()=>{r==null||r()})};return e.jsx("button",{type:"button",onClick:j,className:u,disabled:x,"aria-label":"Make payment",children:i})}const H={verifyTransaction:async s=>{const{data:{session:t}}=await w.auth.getSession(),n=await fetch("https://zwilwyatyiiuzgmsqezo.supabase.co/functions/v1/verify-paystack",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t==null?void 0:t.access_token}`},body:JSON.stringify({reference:s})});if(!n.ok)throw new Error("Failed to verify transaction");return n.json()},processBookingPayment:async(s,t)=>{const{data:n,error:a}=await w.from("transactions").insert([{booking_id:s,amount:t.amount/100,status:t.status,payment_method_id:t.payment_method_id,reference:t.reference}]).select().single();if(a)throw a;const{error:r}=await w.from("bookings").update({payment_status:t.status==="success"?"captured":"failed",status:t.status==="success"?"confirmed":"pending"}).eq("id",s);if(r)throw r;if(t.status==="success"){const{data:i}=await w.from("bookings").select("total_price").eq("id",s).single(),{error:u}=await w.from("payment_receipts").insert([{transaction_id:n.id,booking_id:s,receipt_number:`RCP-${Date.now()}`,subtotal:i.total_price,taxes:Math.round(i.total_price*.05),fees:Math.round(i.total_price*.1),total:Math.round(i.total_price*1.15)}]);if(u)throw u}return n}};function Ne({booking:s,onPaymentComplete:t}){var o;const{user:n}=Y(),[a,r]=c.useState("card"),[i,u]=c.useState(!1),[x,h]=c.useState(""),f=async g=>{u(!0),h("");try{const d=await H.verifyTransaction(g.reference);d.data.status==="success"?(await H.processBookingPayment(s.id,{...d.data,payment_method_id:null}),t()):h("Payment verification failed")}catch(d){h(d.message||"Payment processing failed")}finally{u(!1)}},j=()=>{h("Payment was cancelled")};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Payment Details"}),e.jsxs("div",{className:"flex items-center text-sm text-neutral-600",children:[e.jsx(K,{className:"mr-2"}),e.jsx("span",{children:"Secure Payment"})]})]}),x&&e.jsx("div",{className:"mb-6 p-4 bg-error/10 border border-error/20 rounded-lg text-error text-sm",children:x}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Payment Method"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",className:`p-4 border rounded-lg flex items-center justify-center transition-colors ${a==="card"?"border-primary-500 bg-primary-50 text-primary-700":"border-neutral-300 hover:border-neutral-400"}`,onClick:()=>r("card"),children:[e.jsx(Q,{className:"mr-2"}),e.jsx("span",{children:"Card Payment"})]}),e.jsxs("button",{type:"button",className:`p-4 border rounded-lg flex items-center justify-center transition-colors ${a==="bank"?"border-primary-500 bg-primary-50 text-primary-700":"border-neutral-300 hover:border-neutral-400"}`,onClick:()=>r("bank"),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 mr-2",children:[e.jsx("path",{d:"M11.584 2.376a.75.75 0 01.832 0l9 6a.75.75 0 11-.832 1.248L12 3.901 3.416 9.624a.75.75 0 01-.832-1.248l9-6z"}),e.jsx("path",{fillRule:"evenodd",d:"M20.25 10.332v9.918H21a.75.75 0 010 1.5H3a.75.75 0 010-1.5h.75v-9.918a.75.75 0 01.634-.74A49.109 49.109 0 0112 9c2.59 0 5.134.202 7.616.592a.75.75 0 01.634.74zm-7.5 2.418a.75.75 0 00-1.5 0v6.75a.75.75 0 001.5 0v-6.75zm3-.75a.75.75 0 01.75.75v6.75a.75.75 0 01-1.5 0v-6.75a.75.75 0 01.75-.75zM9 12.75a.75.75 0 00-1.5 0v6.75a.75.75 0 001.5 0v-6.75z",clipRule:"evenodd"}),e.jsx("path",{d:"M12 7.875a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z"})]}),e.jsx("span",{children:"Bank Transfer"})]})]})]}),e.jsxs("div",{className:"border-t border-neutral-200 pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Subtotal"}),e.jsxs("span",{children:["₦",(o=s==null?void 0:s.totalPrice)==null?void 0:o.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4 text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Service Fee"}),e.jsxs("span",{children:["₦",((s==null?void 0:s.totalPrice)*.1).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4 text-sm",children:[e.jsx("span",{className:"text-neutral-600",children:"Tax"}),e.jsxs("span",{children:["₦",((s==null?void 0:s.totalPrice)*.05).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-6 text-lg font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₦",((s==null?void 0:s.totalPrice)*1.15).toLocaleString()]})]}),a==="card"?e.jsx(ye,{amount:(s==null?void 0:s.totalPrice)*1.15,email:n==null?void 0:n.email,metadata:{booking_id:s==null?void 0:s.id,custom_fields:[{display_name:"Booking Reference",variable_name:"booking_ref",value:s==null?void 0:s.id}]},onSuccess:f,onClose:j,className:`btn btn-primary w-full ${i?"opacity-70 cursor-not-allowed":""}`,disabled:i,children:i?"Processing...":"Pay Now"}):e.jsxs("div",{className:"mb-6 p-4 bg-neutral-50 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Bank Transfer Details"}),e.jsxs("div",{className:"space-y-2 text-sm text-neutral-600",children:[e.jsx("p",{children:"Bank: First Bank Nigeria"}),e.jsx("p",{children:"Account Name: NijaBnB Limited"}),e.jsx("p",{children:"Account Number: 0123456789"}),e.jsx("p",{className:"text-xs mt-4",children:"Please use your booking reference as payment reference"})]})]})]})]})}function we({policies:s,selectedPolicy:t,onSelect:n}){return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(X,{className:"text-primary-500 mr-3",size:24}),e.jsx("h2",{className:"text-xl font-semibold",children:"Refund Policy"})]}),e.jsx("div",{className:"space-y-4",children:s.map(a=>e.jsxs("button",{onClick:()=>n(a),className:`w-full p-4 border rounded-lg text-left transition-colors ${(t==null?void 0:t.id)===a.id?"border-primary-500 bg-primary-50":"border-neutral-300 hover:border-neutral-400"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold",children:a.name}),(t==null?void 0:t.id)===a.id&&e.jsx(Z,{className:"text-primary-500"})]}),e.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:a.description}),e.jsxs("div",{className:"text-xs text-neutral-500",children:["Cancellation deadline: ",a.cancellation_deadline_hours," hours before check-in"]})]},a.id))})]})}function Se({receipt:s,booking:t}){return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-success/10 text-success rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ee,{size:32})}),e.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Payment Successful"}),e.jsx("p",{className:"text-neutral-600",children:"Thank you for your booking!"})]}),e.jsxs("div",{className:"border-t border-b border-neutral-200 py-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-neutral-600",children:"Receipt Number"}),e.jsx("span",{className:"font-medium",children:s.receipt_number})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-neutral-600",children:"Date"}),e.jsx("span",{children:A(new Date(s.issued_at),"MMM d, yyyy")})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Payment Status"}),e.jsx("span",{className:"px-2 py-1 bg-success/10 text-success rounded-full text-sm",children:"Completed"})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Subtotal"}),e.jsxs("span",{children:["₦",s.subtotal.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Service Fee"}),e.jsxs("span",{children:["₦",s.fees.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-neutral-600",children:"Taxes"}),e.jsxs("span",{children:["₦",s.taxes.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-neutral-200 text-lg font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₦",s.total.toLocaleString()]})]})]}),e.jsxs("div",{className:"bg-neutral-50 rounded-lg p-4 mb-6",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Booking Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600",children:"Check-in"}),e.jsx("span",{children:A(new Date(t.checkIn),"MMM d, yyyy")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600",children:"Check-out"}),e.jsx("span",{children:A(new Date(t.checkOut),"MMM d, yyyy")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-neutral-600",children:"Guests"}),e.jsx("span",{children:t.guests})]})]})]}),e.jsxs("button",{className:"btn btn-outline w-full flex items-center justify-center",children:[e.jsx(se,{className:"mr-2"}),"Download Receipt"]})]})}const Pe=[{id:1,name:"Flexible",description:"Full refund if cancelled 24 hours before check-in",cancellation_deadline_hours:24,refund_percentage:100},{id:2,name:"Moderate",description:"Full refund if cancelled 5 days before check-in",cancellation_deadline_hours:120,refund_percentage:100},{id:3,name:"Strict",description:"Full refund if cancelled 7 days before check-in, 50% refund afterwards",cancellation_deadline_hours:168,refund_percentage:50}],Ce=[{id:1,title:"Luxury Villa with Ocean View",description:"Experience the beauty of Lagos from this exquisite villa with panoramic ocean views. This spacious property features modern amenities, a private pool, and direct beach access. Perfect for family vacations or special gatherings.",location:"Lagos, Nigeria",coordinates:{lat:6.4698,lng:3.5852},price:35e3,rating:4.95,reviewCount:128,images:["https://images.pexels.com/photos/1268871/pexels-photo-1268871.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/1457842/pexels-photo-1457842.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/2725675/pexels-photo-2725675.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/4846097/pexels-photo-4846097.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2","https://images.pexels.com/photos/6492397/pexels-photo-6492397.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"],isSuperhost:!0,category:"luxury",amenities:["Wifi","TV","Air conditioning","Swimming pool","Kitchen","Free parking","Security system","Hot water"],bedrooms:4,bathrooms:3,maxGuests:8,host:{name:"Emmanuel",image:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",isSuperhost:!0,responseRate:98,responseTime:"within an hour",joinedDate:"January 2020"},reviews:[{id:1,user:"Sarah",date:"2 weeks ago",content:"This villa exceeded all our expectations! The views were breathtaking and the amenities were top-notch. Emmanuel was a fantastic host who went above and beyond to make our stay comfortable. Will definitely be back!",rating:5,userImage:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:2,user:"Michael",date:"1 month ago",content:"Great location, beautiful villa, attentive host. The villa is just as gorgeous as the pictures show. Pool was perfect and the beach access was a nice bonus. Highly recommend!",rating:5,userImage:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},{id:3,user:"Chioma",date:"2 months ago",content:"Spent a wonderful week at this property. The house is beautifully designed and the ocean view is spectacular. The only minor issue was the WiFi, which was occasionally slow, but Emmanuel was quick to address it.",rating:4,userImage:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}]}];function Ee(){const{id:s}=xe(),[t,n]=c.useState(null),[a,r]=c.useState(!0),[i,u]=c.useState(!1),[x,h]=c.useState(0),[f,j]=c.useState(!1),[o,g]=c.useState(null),[d,z]=c.useState(null),[b,S]=c.useState(1),[p,y]=c.useState(0),[P,C]=c.useState(null),[k,_]=c.useState(!1),[N,F]=c.useState(!1),[L,T]=c.useState(null);c.useEffect(()=>{setTimeout(()=>{const l=Ce.find(m=>m.id===Number(s));n(l),r(!1)},500)},[s]),c.useEffect(()=>{if(o&&d&&t){const l=Math.ceil((d-o)/864e5),m=t.price*l,J=m*.1;y(m+J)}else y(0)},[o,d,t]);const O=()=>{u(!i)},v=()=>{j(!f)},D=()=>{if(!o||!d||!b){alert("Please select dates and number of guests");return}_(!0)},I=()=>{T({receipt_number:"RCP"+Date.now(),subtotal:p,fees:Math.round(p*.1),taxes:Math.round(p*.05),total:Math.round(p*1.15),issued_at:new Date().toISOString()}),F(!0)},E={dots:!0,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!1};return a?e.jsx("div",{className:"container py-20 text-center",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-neutral-200 rounded w-1/2 mx-auto mb-6"}),e.jsx("div",{className:"h-4 bg-neutral-200 rounded w-1/3 mx-auto mb-12"}),e.jsx("div",{className:"h-96 bg-neutral-200 rounded mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("div",{className:"h-6 bg-neutral-200 rounded mb-4"}),e.jsx("div",{className:"h-4 bg-neutral-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-neutral-200 rounded mb-2"}),e.jsx("div",{className:"h-4 bg-neutral-200 rounded mb-6"})]}),e.jsx("div",{className:"h-64 bg-neutral-200 rounded"})]})]})}):t?e.jsxs(pe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4},className:"min-h-screen pb-16",children:[f&&e.jsxs("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center p-4",children:[e.jsx("button",{onClick:v,className:"absolute top-4 right-4 text-white text-xl","aria-label":"Close gallery",children:"✕"}),e.jsx("div",{className:"w-full max-w-4xl",children:e.jsx(fe,{...E,initialSlide:x,children:t.images.map((l,m)=>e.jsx("div",{className:"px-2",children:e.jsx("img",{src:l,alt:`${t.title} - Image ${m+1}`,className:"w-full h-auto max-h-[80vh] object-contain"})},m))})})]}),e.jsxs("div",{className:"container py-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-display font-bold mb-2",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between",children:[e.jsxs("div",{className:"flex items-center flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(R,{className:"text-accent-500 mr-1"}),e.jsx("span",{className:"font-medium",children:t.rating}),e.jsx("span",{className:"mx-2",children:"·"}),e.jsxs("span",{className:"text-neutral-600",children:[t.reviewCount," reviews"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{className:"text-primary-500 mr-2"}),e.jsx("span",{children:t.location})]}),t.host.isSuperhost&&e.jsx("div",{className:"bg-neutral-100 px-3 py-1 rounded-full text-sm",children:"Superhost"})]}),e.jsxs("div",{className:"flex gap-3 mt-2 sm:mt-0",children:[e.jsxs("button",{onClick:O,className:"flex items-center gap-1 px-3 py-1 rounded-full border border-neutral-300 hover:bg-neutral-50",children:[e.jsx(ae,{className:i?"text-error":"text-neutral-400"}),e.jsx("span",{children:"Save"})]}),e.jsxs("button",{className:"flex items-center gap-1 px-3 py-1 rounded-full border border-neutral-300 hover:bg-neutral-50",children:[e.jsx(re,{className:"text-neutral-600"}),e.jsx("span",{children:"Share"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-2 mb-8 overflow-hidden rounded-xl",children:[e.jsx("div",{className:"md:col-span-2 row-span-2 relative",children:e.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-full object-cover cursor-pointer",onClick:()=>{h(0),v()}})}),t.images.slice(1,5).map((l,m)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:`${t.title} - Image ${m+1}`,className:"w-full h-full object-cover cursor-pointer",onClick:()=>{h(m+1),v()}}),m===3&&e.jsx("button",{className:"absolute bottom-4 right-4 bg-white/90 hover:bg-white text-neutral-800 px-4 py-2 rounded-md text-sm font-medium transition-colors",onClick:v,children:"View all photos"})]},m))]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center pb-6 mb-6 border-b border-neutral-200",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-display font-semibold mb-1",children:["Hosted by ",t.host.name]}),e.jsxs("p",{className:"text-neutral-600",children:[t.bedrooms," bedroom",t.bedrooms!==1?"s":""," • ",t.bathrooms," bathroom",t.bathrooms!==1?"s":""," • Up to ",t.maxGuests," guest",t.maxGuests!==1?"s":""]})]}),e.jsxs("div",{className:"flex items-center mt-4 lg:mt-0",children:[e.jsx("img",{src:t.host.image,alt:t.host.name,className:"w-14 h-14 rounded-full object-cover mr-4"}),t.host.isSuperhost&&e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:"Superhost"}),e.jsxs("p",{className:"text-neutral-600",children:["Responds in ",t.host.responseTime]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-display font-semibold mb-4",children:"About this place"}),e.jsx("p",{className:"text-neutral-600 mb-4",children:t.description})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-xl font-display font-semibold mb-4",children:"What this place offers"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.amenities.map((l,m)=>e.jsxs("div",{className:"flex items-center",children:[l==="Wifi"&&e.jsx(ne,{className:"text-neutral-600 mr-3"}),l==="TV"&&e.jsx(le,{className:"text-neutral-600 mr-3"}),l==="Air conditioning"&&e.jsx(ie,{className:"text-neutral-600 mr-3"}),l==="Swimming pool"&&e.jsx(ce,{className:"text-neutral-600 mr-3"}),l==="Kitchen"&&e.jsx(oe,{className:"text-neutral-600 mr-3"}),l==="Free parking"&&e.jsx(de,{className:"text-neutral-600 mr-3"}),l==="Security system"&&e.jsx(K,{className:"text-neutral-600 mr-3"}),l==="Hot water"&&e.jsx(me,{className:"text-neutral-600 mr-3"}),e.jsx("span",{children:l})]},m))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(R,{className:"text-accent-500 mr-2",size:24}),e.jsx("span",{className:"text-xl font-semibold mr-2",children:t.rating}),e.jsx("span",{className:"text-xl",children:"·"}),e.jsxs("span",{className:"text-xl ml-2",children:[t.reviewCount," reviews"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:t.reviews.map(l=>e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsx("img",{src:l.userImage,alt:l.user,className:"w-12 h-12 rounded-full object-cover mr-3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:l.user}),e.jsx("p",{className:"text-sm text-neutral-500",children:l.date})]})]}),e.jsx("p",{className:"text-neutral-600",children:l.content})]},l.id))}),e.jsxs("button",{className:"btn btn-outline mt-4",children:["View all ",t.reviewCount," reviews"]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"sticky top-24",children:[!k&&!N&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-neutral-200 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-2xl font-semibold",children:["₦",t.price.toLocaleString()]}),e.jsx("span",{className:"text-neutral-600",children:" / night"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(R,{className:"text-accent-500 mr-1"}),e.jsx("span",{className:"font-medium",children:t.rating})]})]}),e.jsxs("div",{className:"border border-neutral-300 rounded-lg overflow-hidden mb-4",children:[e.jsxs("div",{className:"grid grid-cols-2 border-b border-neutral-300",children:[e.jsxs("div",{className:"border-r border-neutral-300 p-3",children:[e.jsxs("label",{className:"block text-xs font-medium mb-1 flex items-center",children:[e.jsx($,{className:"mr-2 text-primary-500"}),"CHECK-IN"]}),e.jsx(q,{selected:o,onChange:l=>g(l),selectsStart:!0,startDate:o,endDate:d,minDate:new Date,placeholderText:"Add date",className:"w-full border-none p-0 text-sm focus:ring-0"})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("label",{className:"block text-xs font-medium mb-1 flex items-center",children:[e.jsx($,{className:"mr-2 text-primary-500"}),"CHECKOUT"]}),e.jsx(q,{selected:d,onChange:l=>z(l),selectsEnd:!0,startDate:o,endDate:d,minDate:o||new Date,placeholderText:"Add date",className:"w-full border-none p-0 text-sm focus:ring-0"})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("label",{className:"block text-xs font-medium mb-1 flex items-center",children:[e.jsx(ue,{className:"mr-2 text-primary-500"}),"GUESTS"]}),e.jsx("select",{value:b,onChange:l=>S(Number(l.target.value)),className:"w-full border-none p-0 text-sm focus:ring-0",children:[...Array(t.maxGuests)].map((l,m)=>e.jsxs("option",{value:m+1,children:[m+1," guest",m!==0?"s":""]},m+1))})]})]}),e.jsx("button",{onClick:D,className:"btn btn-primary w-full mb-4",disabled:!o||!d||!b,children:"Reserve"}),e.jsx("p",{className:"text-center text-sm text-neutral-500 mb-4",children:"You won't be charged yet"}),p>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"underline",children:["₦",t.price.toLocaleString()," x ",Math.ceil((d-o)/(1e3*60*60*24))," nights"]}),e.jsxs("span",{children:["₦",(t.price*Math.ceil((d-o)/(1e3*60*60*24))).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"underline",children:"Service fee"}),e.jsxs("span",{children:["₦",(t.price*Math.ceil((d-o)/(1e3*60*60*24))*.1).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between pt-3 border-t border-neutral-200 font-semibold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["₦",p.toLocaleString()]})]})]})]})}),k&&!N&&e.jsxs(e.Fragment,{children:[e.jsx(we,{policies:Pe,selectedPolicy:P,onSelect:C}),P&&e.jsx("div",{className:"mt-6",children:e.jsx(Ne,{booking:{totalPrice:p,checkIn:o,checkOut:d,guests:b},onPaymentComplete:I})})]}),N&&L&&e.jsx(Se,{receipt:L,booking:{checkIn:o,checkOut:d,guests:b}})]})})]})]})]}):e.jsxs("div",{className:"container py-20 text-center",children:[e.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Listing not found"}),e.jsx("p",{className:"mb-8",children:"The listing you're looking for doesn't exist or has been removed."}),e.jsx(he,{to:"/listings",className:"btn btn-primary",children:"Browse Other Listings"})]})}export{Ee as default};
//# sourceMappingURL=ListingDetailPage-jJaQPmvb.js.map
